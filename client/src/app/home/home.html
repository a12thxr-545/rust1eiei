<div class="home-page">
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <span class="hero-tag">Mission Control</span>
            <h1>Build your crew.<br>Launch your mission.</h1>
            <p>Create missions, recruit crew members, and embark on adventures together.</p>

            <div class="hero-actions">
                @if (isLoggedIn()) {
                <button class="btn-primary" (click)="navigateToMissions()">
                    <span>View Missions</span>
                </button>
                } @else {
                <button class="btn-primary" (click)="navigateToLogin()">
                    <span>Get Started</span>
                </button>
                }
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <h2>Everything you need</h2>
        <div class="features-grid">
            @for (feature of features; track feature.title) {
            <div class="feature-item">
                <h3>{{ feature.title }}</h3>
                <p>{{ feature.description }}</p>
            </div>
            }
        </div>
    </section>

    <!-- Latest Missions -->
    @if (missions().length > 0) {
    <section class="missions">
        <div class="section-header">
            <h2>Latest missions</h2>
            <button class="btn-ghost" (click)="navigateToMissions()">
                <span>View all</span>
            </button>
        </div>
        <div class="missions-list">
            @for (mission of missions(); track mission.id) {
            <div class="mission-card" (click)="viewMission(mission.id)">
                <div class="mission-header">
                    <span class="mission-status" [class]="'status-' + mission.status.toLowerCase()">
                        {{ mission.status }}
                    </span>
                    <button class="btn-view-circle" title="View Mission">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </button>
                </div>
                <h3>{{ mission.name }}</h3>
                <p class="mission-desc">{{ mission.description || 'No description' }}</p>
                <div class="mission-meta">
                    <span class="crew-count">
                        Crew: {{ mission.crew_count }}
                    </span>
                    <span class="mission-date">{{ mission.created_at | date:'d MMM yyyy, h:mm a':'+0700' }}</span>
                </div>
            </div>
            }
        </div>
    </section>
    }

    <!-- CTA Section -->
    <section class="cta">
        <h2>Ready to launch?</h2>
        <p>Start your journey today</p>
        @if (isLoggedIn()) {
        <button class="btn-white" (click)="navigateToMissions()">
            <span>Explore Missions</span>
        </button>
        } @else {
        <button class="btn-white" (click)="navigateToLogin()">
            <span>Join Now â€” It's Free</span>
        </button>
        }
    </section>
</div>